{% extends 'home/base.html' %}

{% block title %}‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto space-y-10">

  <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏â‡∏±‡∏ô‡∏à‡∏≠‡∏á -->
  <section>
    <h1 class="text-2xl font-bold text-[#112d4e] mb-4">üìÖ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏â‡∏±‡∏ô‡∏à‡∏≠‡∏á</h1>

    {% if bookings %}
      <div class="grid gap-4">
        {% for b in bookings %}
          <div class="bg-white rounded-xl shadow p-4">
            <h2 class="font-semibold text-[#112d4e]">{{ b.venue.name }}</h2>
            <p class="text-sm text-gray-600">
              {{ b.start_date }} - {{ b.end_date }} | {{ b.start_time }} - {{ b.end_time }}
            </p>
            <p class="text-sm text-gray-500">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: {{ b.get_status_display }}</p>

            {% if b.notes %}
              <p class="text-sm text-gray-500 mt-1">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: {{ b.notes }}</p>
            {% endif %}

            {% if b.status == 'pending' %}
              <div class="mt-2">
                <a href="{% url 'booking_delete' b.pk %}"
                   class="text-sm text-red-500 hover:underline">
                  ‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á
                </a>
              </div>
            {% endif %}
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p class="text-gray-600">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</p>
    {% endif %}
  </section>

  <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô -->
  <section>
    <h1 class="text-2xl font-bold text-[#112d4e] mb-4">üè† ‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</h1>

    {% if owner_bookings %}
      <div class="grid gap-4">
        {% for b in owner_bookings %}
          <div class="bg-white rounded-xl shadow p-4">
            <h2 class="font-semibold text-[#112d4e]">{{ b.venue.name }}</h2>
            <p class="text-sm text-gray-600">
              ‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á: {{ b.user.get_full_name|default:b.user.username }}
            </p>
            <p class="text-sm text-gray-600">
              {{ b.start_date }} - {{ b.end_date }} | {{ b.start_time }} - {{ b.end_time }}
            </p>
            <p class="text-sm text-gray-500">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: {{ b.get_status_display }}</p>

            {% if b.notes %}
              <p class="text-sm text-gray-500 mt-1">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: {{ b.notes }}</p>
            {% endif %}

          
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p class="text-gray-600">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏ô‡∏à‡∏≠‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
    {% endif %}
  </section>

</div>
{% endblock %}
